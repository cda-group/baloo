
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Intro to Baloo &#8212; Baloo 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Baloo Library" href="baloo.html" />
    <link rel="prev" title="Welcome to Baloo’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="intro-to-baloo">
<h1>Intro to Baloo<a class="headerlink" href="#intro-to-baloo" title="Permalink to this headline">¶</a></h1>
<p>Baloo implements a subset of <a class="reference external" href="https://pandas.pydata.org/">Pandas</a> maintaining its behavior and API as much as possible.
However, the library is now lazily implemented using Weld. All operations are tracked through
<a class="reference external" href="https://github.com/weld-project/weld">Weld</a> computation graphs which are optimized
upon evaluation. In practice, this means that the <cite>evaluate</cite> method must be called whenever a result is required.
The core data structure at the surface level (API) is still the Numpy
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html">ndarray</a>,
despite it being converted to other structures internally by Weld. For efficiency reasons, only arrays of 1 dimension
are expected (please check <cite>baloo/weld/convertors/numpy.cpp</cite> for malloc reasons why).</p>
<div class="section" id="usability">
<h2>Usability<a class="headerlink" href="#usability" title="Permalink to this headline">¶</a></h2>
<p>Pandas is an immense library with a lot of implemented functionality. Baloo cannot replace it but only speed up
common operations through Weld. To facilitate the interaction between the libraries, the pandas API has been mimicked
as much as possible. Thus, it might be possible to simply replace the import statements from pandas to baloo. However,
there are also <cite>from_pandas</cite> and <cite>to_pandas</cite> methods available to freely move from one to the other. Nevertheless,
for baloo to be useful, most operations should go through it.</p>
</div>
<div class="section" id="functionality-overview">
<h2>Functionality Overview<a class="headerlink" href="#functionality-overview" title="Permalink to this headline">¶</a></h2>
<p>Baloo contains documentation and examples for all the supported operations. However, as a first look into Baloo,
here is some of the implemented functionality:</p>
<ul class="simple">
<li>Numerical operations, such as <cite>+</cite> or <cite>*</cite>.</li>
<li>Unary operations, such as <cite>sqrt</cite> or <cite>log</cite>.</li>
<li>Filters, bool operations, and sub-setting, including <cite>head</cite> and <cite>tail</cite>.</li>
<li>Aggregations, such as <cite>max</cite>, <cite>mean</cite>, or <cite>std</cite>.</li>
<li>DataFrame joins, including all of <cite>inner</cite>, <cite>left</cite>, <cite>right</cite>, <cite>outer</cite>.</li>
<li>GroupBy and aggregations.</li>
<li>Multiple kinds of UDFs.</li>
<li>To/from Pandas conversion.</li>
<li>Missing values support, such as <cite>dropna</cite> and <cite>fillna</cite>.</li>
<li><cite>iloc</cite>.</li>
<li>String manipulation through <cite>.str</cite> for methods, such as <cite>split</cite> or <cite>contains</cite>.</li>
</ul>
<p>… and more.</p>
</div>
<div class="section" id="data-types">
<h2>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<p>Baloo currently accepts the following NumPy dtypes:</p>
<ul class="simple">
<li>int16, int32, int64</li>
<li>float32, float64</li>
<li>bool/bool_ *</li>
<li>S/bytes_</li>
</ul>
<p>Note that strings require their byte versions, therefore unicode is not currently supported (at the Weld level(?)).
* Bool is internally converted to np.bool_ s.t. its module points to NumPy and not builtins.</p>
</div>
<div class="section" id="missing-data">
<h2>Missing Data<a class="headerlink" href="#missing-data" title="Permalink to this headline">¶</a></h2>
<p>Unlike Pandas, there are currently no special NaN/NA/NaT values for missing data. If NumPy accepts it, then it’s valid.
For Baloo, the following were chosen as defaults:</p>
<ul class="simple">
<li>floats : -999.</li>
<li>integers : -999</li>
<li>S/bytes_ : b’None’</li>
<li>bool : false</li>
</ul>
</div>
<div class="section" id="lazy-evaluation">
<h2>Lazy Evaluation<a class="headerlink" href="#lazy-evaluation" title="Permalink to this headline">¶</a></h2>
<p>All Baloo objects follow the following contract:</p>
<ul class="simple">
<li>Calling <cite>repr()</cite> will return a lazy-friendly shortened description of the object. For example, calling it on a Series would return <cite>Series(name=&lt;name&gt;, dtype=&lt;dtype&gt;)</cite> with no mention of the actual data inside. This is because the data can be either raw data (which gets printed nicely) or a string Weld computation graph (which, well, does not).</li>
<li>Calling <cite>str()</cite> will pretty print the object. Note that for DataFrame, it cannot be called unless all the data is evaluated.</li>
<li><cite>.values</cite> property returns the internal data, be it raw or lazy.</li>
<li><cite>evaluate()</cite> returns a copy of the object with raw evaluated data inside.</li>
</ul>
</div>
<div class="section" id="type-casting">
<h2>Type Casting<a class="headerlink" href="#type-casting" title="Permalink to this headline">¶</a></h2>
<p>Unlike Pandas, there are currently no automatic type casts for array types, e.g. <cite>Series([1, 2]) + Series([2.35, 3.54])</cite>
is likely to fail. Casting is lazily available through the <cite>astype</cite> operator. Note that on Series creation, data can be
automatically casted to given dtype only if the data is raw. If lazy, encode it through astype.</p>
<p>Note that literal/scalar values are an exception and do get casted to the <cite>dtype</cite> of the array, e.g.
<cite>Series([1, 2]) &lt; 2.0</cite> is interpreted as <cite>Series([1, 2]) &lt; 2</cite>. Lastly, aggregation results get converted to <cite>float64</cite>
however currently post-aggregation, not before, e.g. <cite>Series([1, 2]).sum()</cite> first computes the integer sum
then casts the result to float.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Baloo</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Intro to Baloo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#usability">Usability</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functionality-overview">Functionality Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-types">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#missing-data">Missing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lazy-evaluation">Lazy Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#type-casting">Type Casting</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="baloo.html">Baloo Library</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Baloo’s documentation!</a></li>
      <li>Next: <a href="baloo.html" title="next chapter">Baloo Library</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Radu Jica.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/intro.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>